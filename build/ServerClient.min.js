var ServerClientRequire;ServerClientRequire=function(a){var b,c;return b=function(){function a(a){this.accept_logs=null!=a?a:!1,this._locks={}}return a.prototype.trylock=function(a,b,c){var d;return d=this.hash(a,b),this._locks[d]?this.accept_logs&&console.warn("tryLock "+a+" "+b):this._locks[d]=c(),this._locks[d]},a.prototype.unlock=function(a,b){var c;return null==a&&(a=""),null==b&&(b=""),c=this.hash(a,b),this._locks[c]?(this._locks[c]=null,!0):(this.accept_logs&&console.warn("unlock "+a+" "+b),!1)},a.prototype.hash=function(a,b){return a||(a=""),b||(b=""),""+b+a},a}(),c=function(){function c(a){null==a&&(a={}),this.lock=new b({accept_logs:a.accept_logs}),this.initialize.apply(this,arguments)}return c.version="0.0.5",c.prototype.initialize=function(){},c.prototype._isServer=function(){return!0},c.prototype._ajax=function(b,c){var d,e;return d=b.type+b.lock,e=b.url,b.lock=null,this.lock.trylock(e,d,function(f){return function(){return b.stub=null,a.ajax(b).done(function(a,b,d){return 204===d.status?c.resolve(a):a&&"error"!==a.result?c.resolve(a):c.reject(a)}).fail(function(a){return c.reject(a)}).always(function(){return f.lock.unlock(e,d)})}}(this))},c.prototype.ajax=function(b){var c;return c=a.Deferred(),b||(b={}),this._isServer()?this._ajax(b,c):null!=b.stub?"function"==typeof b.stub&&b.stub(c):this._ajax(b,c),c.promise()},c.prototype.get=function(a){return a||(a={}),a.type="GET",this.ajax(a)},c.prototype.post=function(a){return a||(a={}),a.type="POST",this.ajax(a)},c.prototype.put=function(a){return a||(a={}),a.type="PUT",this.ajax(a)},c.prototype.patch=function(a){return a||(a={}),a.type="PATCH",this.ajax(a)},c.prototype["delete"]=function(b){var c;return b||(b={}),c=a.Deferred(),b.type="DELETE",this.ajax(b)},c}()},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(["jquery"],function(a){return ServerClientRequire(a)}):window.ServerClient=ServerClientRequire(jQuery||$);